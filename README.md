Run the following from the CLI to produce the reduced webgraphs.

```
mvn exec:java -Dexec.mainClass="App"
```

If you run out of heap memory or if you need to restrict it, try adjusting it within the `.mvn/jvm.config` file.

```
 -Xmx4g -Xms512m
```

The above setting limits the heap size to a minimum of 512 MB and a maximum of 4 GB.

# Reduced Graphs

All of the reduced graphs generated by this app will be in CSV format. There will be two for each year's crawl: one formed from the top 30,000 nodes sorted by
in-degree, and another form the top 10,000 of the first subgraph sorted by PageRank.

# Data Source

All data files should be found in the top-level `data` directory. They are omitted from this repository, so for the sake of reproducibility the steps taken to obtain/format them are listed here.

1. The following files were downloaded from [CommonCrawl's 2018 web crawl](https://data.commoncrawl.org/projects/hyperlinkgraph/cc-main-2018-19-nov-dec-jan/index.html).
    - `cc-main-2018-19-nov-dec-jan-host-vertices.paths.gz`: This file contains a list of paths to download 42 separate compressed text files. Each of these files were downloaded, uncompressed, and then concatenated into a single text file named `2018-node-domains.txt`. Since the files are fairly large, it's not practical to copy+paste the files together. If you are on Linux, I would recommend repeatedly running `cat file1.txt >> 2024-node-domains.txt` for each of the files. The result should be a text file just over 13 GB.
    - `	cc-main-2018-19-nov-dec-jan-host.graph`, `cc-main-2018-19-nov-dec-jan-host.properties`: These two files represent the main webgraph; these files were renamed to `2018.graph` and `2018.properties`, respectively.
    - `cc-main-2018-19-nov-dec-jan-host-t.graph`, `cc-main-2018-19-nov-dec-jan-host-t.properties`: These files represent the transpose of the webgraph; these files were renamed to `2018-t.graph` and `2018-t.properties`, respectively.
2. The following files were downloaded from [CommonCrawl's 2024 web crawl](https://data.commoncrawl.org/projects/hyperlinkgraph/cc-main-2024-jul-aug-sep/index.html).
    - `cc-main-2024-jul-aug-sep-host-vertices.paths.gz`: This file contains a list of paths to download 15 separate compressed text files. Each of these 15 files were downloaded, uncompressed, and then concatenated into a single text file named `2024-node-domains.txt` (which came out to about 10 GB).
    - `cc-main-2024-jul-aug-sep-host.graph`, `cc-main-2024-jul-aug-sep-host.properties`: These two files represent the main webgraph; these files were renamed to `2024.graph` and `2024.properties`, respectively.
    - `cc-main-2024-jul-aug-sep-host-t.graph`, `cc-main-2024-jul-aug-sep-host-t.properties`: These files represent the transpose of the webgraph; these files were renamed to `2024-t.graph` and `2024-t.properties`, respectively.

All totaled, the `data` directory has 10 distinct files for a combined 50 GB.